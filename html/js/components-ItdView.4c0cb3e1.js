(window.webpackJsonp=window.webpackJsonp||[]).push([["components-ItdView","components-ItdTypeAhead-VueBootstrapTypeahead","lib-parseData","mixins-urlSync"],{"1f19":function(e,t){function n(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return e}function o(e,t){const o=(t=t||{}).delimiter||".",a=t.maxDepth,i=t.transformKey||r,c={};return function e(r,l,s){s=s||1,Object.keys(r).forEach((function(u){const f=r[u],d=t.safe&&Array.isArray(f),p=Object.prototype.toString.call(f),b=n(f),y="[object Object]"===p||"[object Array]"===p,h=l?l+o+i(u):i(u);if(!d&&!b&&y&&Object.keys(f).length&&(!t.maxDepth||s<a))return e(f,h,s+1);c[h]=f}))}(e),c}e.exports=o,o.flatten=o,o.unflatten=function e(t,a){function i(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||a.object?e:t}const c=(a=a||{}).delimiter||".",l=a.overwrite||!1,s=a.transformKey||r,u={};return n(t)||"[object Object]"!==Object.prototype.toString.call(t)?t:(t=Object.keys(t).reduce((function(e,n){const r=Object.prototype.toString.call(t[n]);return!("[object Object]"===r||"[object Array]"===r)||function(e){const t=Object.prototype.toString.call(e),n="[object Object]"===t;return!e||("[object Array]"===t?!e.length:n?!Object.keys(e).length:void 0)}(t[n])?(e[n]=t[n],e):function(e,t,n){return Object.keys(n).reduce((function(t,r){return t[e+c+r]=n[r],t}),t)}(n,e,o(t[n],a))}),{}),Object.keys(t).forEach((function(n){const r=n.split(c).map(s);let o=i(r.shift()),f=i(r[0]),d=u;for(;void 0!==f;){if("__proto__"===o)return;const e=Object.prototype.toString.call(d[o]),t="[object Object]"===e||"[object Array]"===e;if(!l&&!t&&void 0!==d[o])return;(l&&!t||!l&&null==d[o])&&(d[o]="number"!=typeof f||a.object?{}:[]),d=d[o],r.length>0&&(o=i(r.shift()),f=i(r[0]))}d[o]=e(t[n],a)})),u)}},"2a6f":function(e,t,n){"use strict";function r(e,t,n,r,o,a,i,c){var l,s,u,f="function"==typeof e?e.options:e;return t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),a&&(f._scopeId="data-v-"+a),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},f._ssrRegister=l):o&&(l=c?function(){o.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:o),l&&(f.functional?(f._injectStyles=l,s=f.render,f.render=function(e,t){return l.call(t),s(e,t)}):(u=f.beforeCreate,f.beforeCreate=u?[].concat(u,l):[l])),{exports:e,options:f}}n.d(t,"a",(function(){return r}))},"2bab":function(e,t,n){"use strict";function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r,o=arguments,a=t?t.apply(this,o):o[0],i=n.cache;return i.has(a)?i.get(a):(r=e.apply(this,o),n.cache=i.set(a,r)||i,r)};return n.cache=new(r.Cache||o.a),n}var o=n("37f7"),a="Expected a function";r.Cache=o.a,t.a=r},"2c85":function(e,t,n){"use strict";var r=n("c06e");t.a=function(e,t,n){var o=null==e?void 0:Object(r.a)(e,t);return void 0===o?n:o}},"31c4":function(e,t,n){"use strict";t.a=function(e){return null==e}},"3a0e":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){var a={};if(!Object(i.a)(t[n]))if(Array.isArray(t[n]))a=t[n].reduce((function(t,n){return Object.assign(t,o({},n,Object(c.a)(e,n)))}),{});else if("string"==typeof t[n])a=o({},t[n],Object(c.a)(e,t[n]));else{if("object"!==r(t[n]))throw new Error("formato de query no aceptado ".concat(t[n]));a=Object.keys(t[n]).reduce((function(r,a){return Object.assign(r,o({},a,1===t[n][a]?Object(c.a)(e,a):Object(c.a)(e,t[n][a])))}),{})}return a}var i,c;n.r(t),n.d(t,"default",(function(){return a})),i=n("31c4"),c=n("2c85")},4326:function(e,t,n){"use strict";var r,o,a;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseInt(e,10);return isNaN(n)?t:n},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,n=parseFloat(e);return isNaN(n)?t:n},a=function(e,t){return o(e).toFixed(r(t,0))}},"44ce":function(e,t,n){"use strict";var r=n("2bab"),o=500,a=function(e){var t=Object(r.a)(e,(function(e){return n.size===o&&n.clear(),e})),n=t.cache;return t},i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,o){t.push(r?o.replace(c,"$1"):n||e)})),t}));t.a=l},5697:function(e,t,n){"use strict";var r=n("b054"),o=n("207b"),a="[object Symbol]";t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&Object(r.a)(e)==a}},8126:function(e,t,n){"use strict";var r=n("d8f4"),o=n("ad31"),a=n("2343"),i=n("5697"),c=1/0,l=r.a?r.a.prototype:void 0,s=l?l.toString:void 0;t.a=function e(t){if("string"==typeof t)return t;if(Object(a.a)(t))return Object(o.a)(t,e)+"";if(Object(i.a)(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-c?"-0":n}},9228:function(e,t,n){"use strict";n("eb6d")},"922a":function(e,t,n){"use strict";var r=n("2343"),o=n("9365"),a=n("44ce"),i=n("ac2c");t.a=function(e,t){return Object(r.a)(e)?e:Object(o.a)(e,t)?[e]:Object(a.a)(Object(i.a)(e))}},9365:function(e,t,n){"use strict";var r=n("2343"),o=n("5697"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.a=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(o.a)(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},9710:function(e,t,n){"use strict";var r=n("5697"),o=1/0;t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},a106:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a,i;n.r(t),o=n("7d99"),a=n.n(o),window.qs=a.a,i=function(){return a.a.parse(location.search,{ignoreQueryPrefix:!0,arrayLimit:0})},t.default={props:{noQsf:{type:Boolean,default:!1}},methods:{toURL:function(e){var t,n=i(),r=location,o=r.hash;n[e]=this[e],t=a.a.stringify(n,{arrayFormat:"brackets"}),window.history.replaceState(null,"","?"+t+o)}},created:function(){var e,t,n,o=this,a=this.$data.$toSync;if(a&&!this.noQsf){if(n=i(),Array.isArray(a))e=a;else{if("object"!==r(a))return;e=Object.keys(a),t=!0}e.forEach((function(e){o.$watch(e,(function(t,n){t!==n&&this.toURL(e)}),{deep:!0});var r=n[e];void 0===r&&t&&a[e].default&&(r=a[e].default),t&&a[e].cast&&(r=a[e].cast(r)),o.$set(o,e,r)}))}},mounted:function(){var e,t=location,n=t.hash;n&&((e=document.createElement("a")).href=n,this.$nextTick().then((function(){setTimeout((function(){e.click()}),500)})))}}},ab0f:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function i(e){var t,n;for(t=1;t<arguments.length;t++)n=null!=arguments[t]?arguments[t]:{},t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,a,i){var c,l;try{l=(c=e[a](i)).value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function a(e){l(c,r,o,a,i,"next",e)}function i(e){l(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o,a,i,c;if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;n=[],r=!0,o=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p,b,y,h,m,v,g,k,w,x,S,_,P,C,j;n.r(t),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-sidebar",{attrs:{shadow:"lg",backdrop:"",title:"Filtros"},model:{value:e.showFilter,callback:function(t){e.showFilter=t},expression:"showFilter"}},[e.showFilter?n("itd-form",{ref:"filter",staticClass:"pl-2",staticStyle:{width:"95%"},attrs:{cols:1,filter:"",form:e.formFilter,config:e.filterConfig,size:"sm",validate:!1,controllers:!1},on:{submit:function(e){e.stopPropagation(),e.preventDefault()},reset:e.cleanAll},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e()],1),n("b-row",{directives:[{name:"noprint",rawName:"v-noprint"}],attrs:{"no-gutters":""}},[!e.local.noFilter&&e.hasFilter?n("b-col",{staticClass:"mb-3",attrs:{cols:"2"}},[n("b-btn",{attrs:{pill:""},on:{click:function(t){e.showFilter=!0}}},[n("b-icon",{attrs:{icon:"search"}})],1)],1):e._e(),e.isEmpty(e.filterC)?e._e():n("b-col",{staticClass:"mb-3",attrs:{cols:"2"}},[n("b-btn",{attrs:{pill:""},on:{click:function(t){e.filter={}}}},[n("b-iconstack",{attrs:{"shift-h":"-3","shift-v":"3",scale:"0.6"}},[n("b-icon",{attrs:{scale:"2.2",icon:"slash"}}),n("b-icon",{attrs:{scale:"1.5",icon:"circle"}}),n("b-icon",{attrs:{icon:"search"}})],1)],1)],1),e.localSpecs.stacked||e.noSort||!e.sortBy?e._e():n("b-col",{staticClass:"mb-3",attrs:{cols:"2"}},[n("b-btn",{attrs:{pill:""},on:{click:function(t){e.sortBy=""}}},[n("b-iconstack",{attrs:{"shift-h":"-4","shift-v":"4",scale:"0.8"}},[n("b-icon",{attrs:{scale:"1.25",icon:"slash"}}),n("b-icon",{attrs:{icon:"circle"}}),n("b-icon",{attrs:{icon:e.sortDesc?"arrow-down":"arrow-up"}})],1)],1)],1),e.localSpecs.stacked||e.noReload?e._e():n("b-col",{staticClass:"mb-3",attrs:{cols:"2"}},[n("b-btn",{attrs:{pill:""},on:{click:e.refreshTable}},[n("b-icon",{attrs:{icon:"arrow-repeat"}})],1)],1),e.local.stacked||e.noStickyHeaders?e._e():n("b-col",{attrs:{md:"2",lg:"1"}},[n("b-select",{attrs:{size:"sm",options:[{text:"Altura Registros",value:null,disabled:!0},{text:"Todo",value:!1},"500px","800px","1200px"]},model:{value:e.stickyHeaders,callback:function(t){e.stickyHeaders=t},expression:"stickyHeaders"}})],1)],1),!0!==e.local.withCheck||e.selectableSync?e._e():n("b-row",{attrs:{"no-gutters":""}},[n("b-col",[n("itd-form",{attrs:{cols:2,form:e.formSelectMode,config:{},size:"sm",validate:!1},on:{submit:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:e.selectMode,callback:function(t){e.selectMode=t},expression:"selectMode"}})],1)],1),n("b-row",{attrs:{"no-gutters":""}},[n("b-col",[n("b-row",{attrs:{"no-gutters":""}},[n("b-col",[e.fields?n("b-table",e._b(e._b({directives:[{name:"show",rawName:"v-show",value:e.perPage<1e3,expression:"perPage < 1000"}],key:e.tableKey,ref:"table",attrs:{"per-page":e.perPage,fields:e.sizedFields,items:e.itemsLocal,"current-page":e.currentPage,selectable:!!e.local.withCheck&&!e.selectableSync&&!!e.selectMode.selectMode,"selected-variant":"selected","sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-compare-options":{sensitivity:"base",numeric:!0},"tbody-transition-props":e.transitionProps,"primary-key":e.primaryKey,"sort-icon-left":"","sticky-header":e.stickyHeaders},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"row-clicked":function(t){e.$listeners["row-clicked"]&&e.$listeners["row-clicked"](t)},"row-selected":e.rowSelected},scopedSlots:e._u([e._l(Object.keys(e.$scopedSlots),(function(t){return{key:t,fn:function(n){return[e._t(t,null,null,n)]}}})),e._l(e.sizedFields,(function(t){return{key:"head("+t.key+")",fn:function(r){return[!e.$scopedSlots["head("+t.key+")"]&&t.popupTable?n("span",{key:"HEAD_"+t.key+"_label",staticStyle:{display:"flex"},attrs:{id:"HEAD_"+t.key+"_label"}},[n("span",{staticClass:"pr-1",domProps:{innerHTML:e._s((t.label||t.key).replace(/[\n\r]+/,"</br>"))}}),n("b-icon",{attrs:{id:"HEAD_"+t.key+"_question",icon:"question-circle-fill",scale:"1.0"}}),t.popupTable?n("b-popover",{key:"HEAD_"+t.key+"_popup",attrs:{target:"HEAD_"+t.key+"_question",placement:"right",triggers:"hover"}},[n("div",{domProps:{innerHTML:e._s(t.popupTable)}})]):e._e()],1):e.$scopedSlots["HEAD_"+t.key]?e._t("head("+t.key+")",null,null,r):n("span",{key:"HEAD_"+t.key+"_label",domProps:{innerHTML:e._s((t.label||t.key).replace(/[\n\r]+/,"</br>"))}})]}}})),e._l(e.fields,(function(t,r){return{key:"cell("+t.key+")",fn:function(o){return[n("v-switch",{key:"v-switch_"+t.key+"_"+(o.item._id||o.value),attrs:{value:e.tableSlot(t,o)},scopedSlots:e._u([{key:"select",fn:function(){return["_select"===t.key?n("b-form-checkbox",{attrs:{value:!e.checkRealData||o.item,disabled:e.tableDetail},model:{value:e.myValue[o.item[e.checkId]],callback:function(t){e.$set(e.myValue,o.item[e.checkId],t)},expression:"myValue[row.item[checkId]]"}}):e._e()]},proxy:!0},{key:"radio",fn:function(){return[n("b-form-radio",{attrs:{value:o.index,disabled:e.tableDetail},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:"myValue"}})]},proxy:!0},{key:"button",fn:function(){return[n("b-btn",{attrs:{variant:"primary",size:"sm"},domProps:{innerHTML:e._s(t.label)},on:{click:function(e){return e.stopPropagation(),t.action(o,t)}}})]},proxy:!0},{key:"component",fn:function(){return[n("itd-component-functional",{class:{view:!0},staticStyle:{width:"auto"},style:{width:"noauto"},attrs:{component:t.tableComponent||t.component,field:t,row:o,value:o.value,"refresh-table":e.refreshTable,"table-view":""},on:{"update:field":function(e){t=e},click:function(n){return e.toggleDetails(n,o,t)}},nativeOn:{event:function(e){return!0}}})]},proxy:!0},{key:"default",fn:function(){return[e._t("parsers",[n("span",{staticStyle:{background:"red"}},[e._v(" "+e._s(o.value)+" ")])],null,{field:t,id:r,row:o})]},proxy:!0}],null,!0)})]}}})),{key:"row-details",fn:function(t){return[n("transition",{attrs:{name:"fade"}},[e.myRowDetails?e._t("my-row-details",null,null,t):n("b-card",{scopedSlots:e._u([{key:"header",fn:function(){return[n("span",[n("h2",{staticClass:"mr-3",staticStyle:{display:"inline"}},[e._v(" "+e._s(e.field(t)[["longLabel","detail","label","key"].find((function(n){return e.field(t)[n]}))])+" ")]),n("b-btn",{attrs:{pill:""},on:{click:function(n){t.toggleDetails(n),e.fieldKeyShowing[t.item[e.primaryKey]]=null}}},[n("b-icon",{attrs:{scale:"1",icon:"fullscreen-exit"}})],1)],1)]},proxy:!0}],null,!0)},[n("itd-component-functional",{key:e.tableDetailKey(t),staticClass:"detail",attrs:{component:e.field(t).tableComponent||e.field(t).component,field:e.field(t),row:t,"refresh-table":e.refreshTable,"table-detail":"",value:t.item[e.field(t).key]}})],1)],2)]}}],null,!0)},"b-table",e._d({},[e.hasSelectMode,"boolean"==typeof e.local.withCheck?e.selectMode.selectMode:e.local.withCheck])),"b-table",e.localSpecs,!1),[e._l(Object.keys(e.$slots),(function(t){return e._t(t,null,{slot:t})})),e.local.noCaption?e._e():n("template",{slot:"table-caption"},[n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"text-right",attrs:{"no-gutters":""}},[n("b-col",[e._t("caption",[n("span",[e._v(" Total de Registros: ")]),n("b-skeleton-wrapper",{staticStyle:{float:"inline-end"},attrs:{loading:null===e.totalRows},scopedSlots:e._u([{key:"loading",fn:function(){return[n("b-skeleton",{attrs:{width:"2rem"}})]},proxy:!0}],null,!1,1407211714)},[e._v(" "+e._s(e.totalRows)+" ")])])],2)],1)],1)],1)],2):e._e()],1)],1),n("b-row",{directives:[{name:"noprint",rawName:"v-noprint"}],staticClass:"justify-content-md-center text-center",attrs:{"no-gutters":""}},[e.local.noCrud||e.local.noCreate||!e.formCreate?e._e():n("b-col",[n("itd-component-functional",{attrs:{component:e.createComponent,variant:"primary",size:"sm"},on:{click:function(t){return e.createAction(t,this)}}},[n("b-icon",{attrs:{icon:"file-earmark-plus-fill"}})],1)],1),e.local.noCrud||e.local.noUpload||!e.formUpload?e._e():n("b-col",[n("itd-component-functional",{attrs:{component:e.uploadComponent,variant:"primary",size:"sm"},on:{click:function(t){return e.uploadAction(t,this)}}},[n("b-icon",{attrs:{icon:"file-earmark-arrow-up"}})],1)],1),e.local.noDownload?e._e():n("b-col",[n("itd-component-functional",{attrs:{component:e.downloadComponent,variant:"primary",size:"sm"},on:{click:e.downloadView}},[n("b-icon",{attrs:{icon:"file-earmark-arrow-down"}})],1)],1),e.local.noPagination||null===e.totalRows?e._e():n("b-col",{attrs:{md:e.paginationSize}},[n("b-pagination",{staticClass:"my-0",attrs:{align:"center","total-rows":e.totalRows,"per-page":e.localPerPage,pills:"",limit:"7","hide-ellipsis":"","first-number":"","last-number":"","hide-goto-end-buttons":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),e.local.noPagination?e._e():n("b-col",{staticClass:"center-text"},[e._v(" Registros por página: "),n("b-form-select",{staticStyle:{"max-width":"5em"},attrs:{size:"sm",options:e.local.perPageOptions||e.perPageOptions},model:{value:e.localPerPage,callback:function(t){e.localPerPage=t},expression:"localPerPage"}})],1)],1)],1)],1),e.local.withCheck&&e.localSpecs.displaySelection?n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("itd-view",{ref:"selectionTable",attrs:{"get-fields":e.sizedFields,items:e.selectedRows,"no-detail-field":"","no-form":"","no-filter":"","no-sort":"","no-crud":"","no-specs":"","no-reload":"","no-pagination":"","no-download":"","no-qsf":""}})],1)],1):e._e(),!e.noForm&&e.tableForm?n("b-row",[n("b-col",[n("itd-form",{attrs:{form:e.tableForm,config:{}},model:{value:e.localsC,callback:function(t){e.localsC=t},expression:"localsC"}})],1)],1):e._e(),e.local.buttons?n("b-row",[e._l(e.local.buttons,(function(t,r){return[n("b-col",{key:"button-"+(t.name||t.text)},[e.buttonShow[r]?n("b-btn",{domProps:{innerHTML:e._s(t.text)},on:{click:function(t){return e.actionButton(r)}}}):e._e()],1)]}))],2):e._e()],1)},b=[],y=n("ac0d"),h=n.n(y),m=n("f42e"),v=n("a106"),g=n("1f19"),k=n.n(g),w=n("3a0e"),x=n("fa7e"),S=n("7d99"),_=n.n(S),P={$lodash:["pickBy","isEmpty","cloneDeep","findIndex","isEqual","merge","omitBy","isNil","get"],$BVP:["SidebarPlugin","TablePlugin","FormSelectPlugin","PaginationPlugin","PopoverPlugin","CardPlugin","LinkPlugin"],components:{BIconSlash:x.H,BIconCircle:x.o,BIconSearch:x.G,BIconArrowDown:x.a,BIconArrowUp:x.d,BIconArrowRepeat:x.c,BIconQuestionCircleFill:x.F,BIconFullscreenExit:x.A,BIconFileEarmarkPlusFill:x.y,BIconFileEarmarkArrowUp:x.x,BIconFileEarmarkArrowDown:x.w,BIconFileEarmarkTextFill:x.z,BIconTrashFill:x.M},mixins:[v.default],provide:function(){return{updateAction:this.updateAction,updateCheck:this.updateCheck,updateComponent:this.updateComponent,updateText:this.updateText,updateIcon:this.updateIcon,deleteAction:this.deleteAction,deleteCheck:this.deleteCheck,deleteComponent:this.deleteComponent,deleteText:this.deleteText,deleteIcon:this.deleteIcon}},props:{noStickyHeaders:{type:Boolean,default:!1},tableDetail:{type:Boolean,default:!1},noForm:{type:Boolean,default:!1},noSort:{type:Boolean,default:!1},noReload:{type:Boolean,default:!1},transitionProps:{type:Object,default:function(){return{name:"flip-list-move"}}},extra:{type:Object,default:function(){return{}}},forceCount:{type:Boolean,default:!1},noSpecs:{type:Boolean,default:!1},small:{type:Boolean,default:!0},showEmpty:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},hover:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},selectableSync:{type:Boolean,default:!1},checkRealData:{type:Boolean,default:!1},myRowDetails:{type:Boolean,default:!1},noCaption:{type:Boolean,default:!1},noFilter:{type:Boolean,default:!1},value:{type:[Array,Object]},withCheck:{type:[Boolean,String],default:!1},noPagination:{type:Boolean,default:!1},getFilter:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/filterGet",t)}}},getFields:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/fieldsGet",t)}}},getFieldsDetail:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/fieldsDetailGet",t)}}},stacked:{default:"sm"},responsive:{default:!0},noDownload:{type:Boolean,default:!1},downloadComponent:{default:"b-btn"},downloadText:{default:"Descargar Vista"},downloadPreData:{type:Array},downloadPostData:{type:Array},noUpload:{type:Boolean,default:!1},uploadCheck:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/uploadCheck",t)}}},uploadComponent:{default:"b-btn"},uploadAction:{type:Function,default:function(){this.$router.push(this.$route.path+"/Upload/")}},noCreate:{type:Boolean,default:!1},createCheck:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/createCheck",t)}}},createComponent:{default:"b-btn"},createAction:{type:Function,default:function(){this.$router.push(this.$route.path+"/Create/")}},noUpdate:{type:Boolean,default:!1},updateCheck:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/updateCheck",t)}}},updateComponent:{type:String,default:"b-link"},updateText:{type:String,default:"Editar"},updateIcon:{type:String,default:"file-earmark-text-fill"},updateAction:{type:Function,default:function(e){this.$router.push(this.$route.path+"/Update/"+e.item._id)}},noDelete:{type:Boolean,default:!1},deleteCheck:{default:function(){var e=this;return function(t){return e.$store.dispatch("form/deleteCheck",t)}}},deleteComponent:{type:String,default:"b-link"},deleteText:{type:String,default:"Borrar"},deleteIcon:{type:String,default:"trash-fill"},deleteAction:{type:Function,default:function(e){this.$router.push(this.$route.path+"/Delete/"+e.item._id)}},noCrud:{type:Boolean,default:!1},_id:{type:[String,Boolean,Array],default:!1},items:{default:function(){var e=this;return function(t){var n,r,o,a,i=e.model.split("."),c=u(i,2),l=c[0],s=c[1];return s=s||"json",n="".concat(l,".").concat(s),o=(r=e.localSpecs).timeout,a=r.timeoutData,t.perPage>20&&(t.cursor=!0),e.$http.get("/APP/AAA/".concat(n,"?type=data").concat(e.all?"Detail":"","&").concat(_.a.stringify(t),"&").concat(e._id?_.a.stringify({_id:e._id}):""),a||o?{timeout:a||o}:{}).then((function(e){return e.body}))}}},count:{type:Function,default:function(e){var t,n,r,o,a=this.model.split("."),i=u(a,2),c=i[0],l=i[1];return l=l||"json",t="".concat(c,".").concat(l),r=(n=this.localSpecs).timeout,o=n.timeoutCount,this.$http.get("/APP/AAA/".concat(t,"?type=data&count=true&").concat(_.a.stringify(e),"&").concat(this._id?_.a.stringify({_id:this._id}):""),o||r?{timeout:o||r}:{}).then((function(e){return e.body}))}},perPageOptions:{type:Array,default:function(){return[5,10,20,50,100]}},checkId:{type:String,default:"_id"},noDetailField:{type:Boolean,default:!1},all:{type:Boolean,default:!1},buttons:{type:Array,default:function(){return[]}}},data:function(){return{primaryKey:"_id",firstFilter:!0,buttonShow:[],tableKey:0,stickyHeaders:!1,fieldKeyShowing:{},locals:{},tableFormWatchers:{},showFilter:!1,selectMode:{selectMode:"range"},selectedRows:[],formSelectMode:[{label:"Modo de selección",name:"selectMode",type:"select",component:"ItdSelect",popup:"<p>Establece la forma en la que se podrán seleccionar las columnas</p>\n          <ul>\n            <li>Único: Sólo se puede seleciconar un ítem</li>\n            <li>Rango: Puede seleccionar multiples ítems tal como en una planillla de \n            cálculo (usando Shift y Control)</li>\n            <li>Múltiple: Puede seleccionar multiples ítems marcándolos uno por uno</li>\n          </ul>\n          ",options:[{text:"Único",value:"single"},{text:"Múltiple",value:"multi"},{text:"Rango",value:"range"},{text:"Nada",value:""}]}],filterConfig:{submitText:null,resetText:"Limpiar",rowButtonsClass:null},localPerPage:1*(this.$route.query.localPerPage||this.perPageOptions[0]),currentPage:1*(this.noQsf||this.$route.query.currentPage||1),filter:{},newModel:{},totalRows:null,myValue:cloneDeep(this.value),sortBy:"",sortDesc:!1,specs:{},localFilter:null,$toSync:{localPerPage:{default:this.$route.query.localPerPage||this.perPageOptions[0],cast:Number},currentPage:{default:1,cast:Number},filter:{default:{}},sortBy:{default:""},sortDesc:{default:!1,cast:Boolean}}}},asyncComputed:{tableForm:{get:function(){var e=this;return s(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.model){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,e.$http("/APP/AAA/".concat(e.model,".tableForm"),{noAuth:!0});case 4:return n=t.sent,r=n.body,console.debug("tableForm",r),e.formWatchers(r),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))()},default:[],lazy:!0},formFilter:{get:function(){var e=this.getFilter,t=this.model;return"function"==typeof e?e(t):e},lazy:!0,default:[]},fields:function(){return(0,this.getFieldsLocal)(this.model)},formCreate:function(){var e=this.createCheck,t=this.model,n=this.local,r=n.noCrud,o=n.noCreate;return!r&&!o&&e(t)},formUpload:function(){var e=this.uploadCheck,t=this.model,n=this.local,r=n.noCrud,o=n.noUpload;return!r&&!o&&e(t)}},computed:i(i({localsC:{get:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;return this.tableForm.reduce((function(t,n){var r=n.vModel,o=n.name;return t[o]=r?get(e,r):e.locals[o],t}),{})})),set:function(e){this.locals=e}}},Object(m.e)("app",["sticky","load"])),{},{hasSelectMode:function(){return this.local.withCheck&&this.selectMode.selectMode?"select-mode":null},selectedRowsId:function(){var e=this;return this.selectedRows.map((function(t){return t[e.checkId]}))},hasFilter:function(){return!!this.formFilter.length},paginationSize:function(){var e=this.formCreate,t=this.formUpload,n=this.local,r=n.noDownload,o=n.noPagination,a=8;return e||a++,t||a++,r&&a++,o&&a++,a},isShowingDetail:function(){return!!this.$refs.table.localItems.some((function(e){return e._showDetails}))},perPage:{get:function(){return this.localSpecs.perPage||this.localPerPage},set:function(e){this.localPerPage=e}},local:function(){var e=this;return Object.keys(this.$props).reduce((function(t,n){var r,o;return o=e.$options.propsData[n]?e[n]:null!==(r=e.localSpecs[n])&&void 0!==r?r:e[n],Object.assign(t,c({},n,o))}),{})},localNoPagination:function(){return this.localSpecs.noPagination||this.noPagination},localSpecs:function(){return i({small:this.small,fixed:this.fixed,stacked:this.localStacked,responsive:this.responsive,showEmpty:this.showEmpty,striped:this.striped,hover:this.hover,emptyText:this.$attrs["empty-text"]||"No hay datos para mostrar",emptyFilteredText:this.$attrs["empty-filtered-text"]||"No hay datos para mostrar para este filtro",timeoutCount:parseInt(this.$attrs.timeoutCount||this.$attrs.timeout),timeoutData:parseInt(this.$attrs.timeoutData||this.$attrs.timeout)},this.specs)},sizedFields:function(){var e=this;return this.fields?(this.$mquery.resize,this.fields.filter((function(t){return e.$mquery.above(t.above||0)}))):this.fields},localStacked:function(){this.$mquery.resize;var e=this.stacked;return"boolean"==typeof e?e:""===e||this.$mquery.below(this.$mqAvailableBreakpoints[e])},filterC:function(){var e=function(e){return"object"===o(e)&&isEmpty(e)||isNil(e)||""===e},t=k()(JSON.parse(JSON.stringify(this.filter))),n=omitBy(t,e),r=Object(g.unflatten)(n);return r}}),watch:{"local.buttons":{handler:function(){var e=this;return s(h.a.mark((function t(){var n,r,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.local.buttons,r=void 0===n?[]:n,o=e.model,t.next=4,Promise.map(r,function(){var t=s(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.method,a=void 0===r?"GET":r,t.t0=a,t.next="POST"===t.t0?4:"PUT"===t.t0?7:"DELETE"===t.t0?10:13;break;case 4:return t.next=6,e.checkPOST(o);case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,e.checkPUT(o);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,e.checkDELETE(o);case 12:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:e.buttonShow=t.sent;case 5:case"end":return t.stop()}}),t)})))()},deep:!0},perPage:function(e,t){this.perPageOptions.includes(e)||this.localNoPagination||this.perPageOptions.find((function(t){return t.value===e}))?this.currentPage=1:this.localPerPage=t},extra:{handler:function(e,t){isEqual(e,t)||(console.debug("refrescando por cambio de extra",e),this.refreshTable())},deep:!0},currentPage:function(e,t){var n=this;return s(h.a.mark((function r(){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.debug("watch currentPage",t,e),!(n.perPage>20&&1!==e)||n.noQsf){r.next=6;break}return n.tableKey=Math.random(),r.next=5,n.$nextTick();case 5:location.reload();case 6:case"end":return r.stop()}}),r)})))()},getFields:{handler:function(){var e=this;return s(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFieldsLocal(e.model);case 2:return e.fields=t.sent,t.next=5,e.$nextTick();case 5:e.refreshTable();case 6:case"end":return t.stop()}}),t)})))()},depp:!0},filterC:{handler:function(e,t){isEqual(e,t)||(console.debug("cambio de filter",t,e),this.firstFilter||(this.firstFilter=!1,this.currentPage=1),this.refreshTableDebounce())},deep:!0},load:function(e){!0===e&&this.$refs.table.refresh()},myValue:{handler:function(e){e=pickBy(e),this.$emit("input",e)},deep:!0}},mounted:function(){var e=this;return s(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.noSpecs){t.next=4;break}return t.next=3,e.$store.dispatch("form/tableSpecs",e.model);case 3:e.specs=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:i(i(i({actionButton:function(e){var t=this;return s(h.a.mark((function n(){var r,o,a,i,c,l,s,u,f,d,p;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.local.buttons[e],o=((o=r.method)||"GET").toLowerCase(),n.t0=r.url[0],n.next="."===n.t0?6:(n.t0,8);break;case 6:return a="/APP/AAA/"+t.model+r.url,n.abrupt("break",9);case 8:a=r.url;case 9:return i=Object(w.default)(t,r,"query"),c=Object(w.default)(t,r,"body"),n.next=13,t.$http({url:a,method:o,params:i,paramsSerializer:function(e){return _.a.stringify(e,{arrayFormat:"brackets"})},data:c});case 13:l=n.sent,s=l.data,r.download?(f=(null==s?void 0:s.type)||r.type,d=(null==s?void 0:s.fileName)||r.fileName,p=new Blob([null!==(u=null==s?void 0:s.data)&&void 0!==u?u:s],{type:f}),window.saveAs(p,d)):s.message&&t.$store.dispatch("Alert/success",s.message),r.refresh&&t.refreshTable();case 17:case"end":return n.stop()}}),n)})))()},field:function(e){var t=this,n=e.fields.find((function(n){return n.key===t.fieldKeyShowing[e.item[t.primaryKey]]}));return n},tableDetailKey:function(e){var t=this.field(e);return t||(console.warn("no field found",e,this.fieldKeyShowing),e.item._showDetails=!1),"tableDetail"+(t?t.key:Math.random())+e[this.primaryKey]+"_body"},toggleDetails:function(e,t,n){var r=this;return s(h.a.mark((function o(){var a;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.rowSelected){o.next=4;break}return t.unselectRow(),o.next=4,r.$nextTick();case 4:return a=!t.detailsShowing||r.fieldKeyShowing[t.item[r.primaryKey]]===n.key,r.$set(r.fieldKeyShowing,t.item[r.primaryKey],n.key),o.next=8,r.$nextTick();case 8:a&&t.toggleDetails(e);case 9:case"end":return o.stop()}}),o)})))()},formWatchers:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){e.reactive&&(t.tableFormWatchers[e.name]||(t.tableFormWatchers[e.name]=t.$watch("locals.".concat(e.name),(function(t,n){isEqual(t,n)||(console.debug("tableForm reactive",e.name,t),this.refreshTable())}))))}))},cleanAll:function(){var e=this;return s(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$refs.filter.clear(),t.next=3,e.$nextTick();case 3:e.refreshTable();case 4:case"end":return t.stop()}}),t)})))()}},Object(m.b)("app",["setSticky","unsetSticky"])),Object(m.b)("form",["checkPOST","checkPUT","checkDELETE"])),{},{downloadView:function(){var e="application/vnd.ms-excel",t=this.$refs.table.$el,n=t.outerHTML,r=moment(Date.now()).format("YYYYMMDD-HHmm"),o="".concat("no model"!==this.model?this.model:"archivo","_").concat(r,".xls"),a=new Blob(["\ufeff",n],{type:e});window.saveAs(a,o)},fieldFields:function(e,t){var n,o,a=e.fields[findIndex(e.fields,{key:t})];return a.fields?{getFields:a.fields}:a.ref?{model:a.ref}:a.refPath?{model:e.item[a.refPath]}:(n=e.item[t],o=function(e){return Object.keys(e).map((function(e){return{key:e}}))},Array.isArray(n)?{getFields:merge.apply(void 0,r(n.map((function(e){return o(e)}))))}:{getFields:o(n)})},isEmpty:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isEmpty.apply(void 0,arguments)})),refreshTable:function(){var e=this.$refs.table;e&&e.refresh()},refreshTableDebounce:debounce((function(){this.refreshTable()}),1e3),tableSlot:function(e){var t=function(e){return e.noparse?"":"_select"===e.key?"select":"_radio"===e.key?"radio":"button"===e.type?"button":e.tableComponent||e.component?"component":"default"},n=t(e);return n},showDetails:function(e,t){return"object"===o(t.item[e.key])&&!isEmpty(t.item[e.key])||["html"].includes(e.type)},getFieldsLocal:function(e){var t=this;return s(h.a.mark((function n(){var r,o,a,i,c,l;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.all?"getFieldsDetail":"getFields",n.t0=cloneDeep,n.next=4,"function"==typeof t[r]?t[r](e):t[r];case 4:if(n.t1=n.sent,o=(0,n.t0)(n.t1),["multi","range",!0].includes(t.local.withCheck)&&t.selectableSync&&o.unshift({key:"_select",label:"Seleccione"}),"single"===t.local.withCheck&&t.selectableSync&&o.unshift({key:"_radio",label:"Seleccione"}),t.noDetailField||o.unshift({key:"_detail",label:"Det.",component:"TableDetail",detail:"Detalle",model:t.model}),a=o,i=function(e){var t=findIndex(a,{key:e});t>=0&&a.splice(t,1)},c=function(){return i("_update")},l=function(){return i("_delete")},!t.noCrud){n.next=17;break}return c(),l(),n.abrupt("return",a);case 17:if(!t.local.noUpdate){n.next=21;break}c(),n.next=26;break;case 21:return n.next=23,t.updateCheck(t.model);case 23:if(n.t2=n.sent,n.t2){n.next=26;break}c();case 26:if(!t.local.noDelete){n.next=30;break}l(),n.next=35;break;case 30:return n.next=32,t.deleteCheck(t.model);case 32:if(n.t3=n.sent,n.t3){n.next=35;break}l();case 35:return n.abrupt("return",a);case 36:case"end":return n.stop()}}),n)})))()},itemsLocal:function(e){var t=this;return s(h.a.mark((function n(){var o,a,i,c,l,u,f,d,p,b,y;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.currentPage,a=e.perPage,i=e.sortBy,c=e.sortDesc,l=[],null!==t.items){n.next=4;break}return n.abrupt("return",[]);case 4:if(!Array.isArray(t.items)){n.next=14;break}t.totalRows=t.items.length,t.localNoPagination&&(t.perPage=t.totalRows),u=r(t.items),d=(f=(o-1)*a)+a,i&&(p=function e(t){return null==t?"":t instanceof Object?Object.keys(t).sort().map((function(n){return e(t[n])})).join(" "):String(t)},u=u.sort((function(e,t){var n,r=e[i],o=t[i];return"number"==typeof r&&"number"==typeof o?c?e[i]-t[i]:t[i]-e[i]:(n=new Intl.Collator(void 0,{sensitivity:"base",numeric:!0}).compare,c?n(p(r),p(o)):n(p(o),p(r)))}))),l=u.slice(f,d),n.next=27;break;case 14:if("function"!=typeof t.items){n.next=27;break}return b=!1,isEqual(t.localFilter,t.filterC)||(t.localFilter=t.filterC,b=!0),t.noFilter?delete e.myfilter:e.myfilter=t.localFilter,e.extra=t.extra,e.locals=t.locals,t.forceCount&&(b=!0),function(){var n=s(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(t._id)){n.next=2;break}return n.abrupt("return",t._id.length);case 2:if(!t._id){n.next=4;break}return n.abrupt("return",1);case 4:if(!b){n.next=7;break}return t.totalRows=null,n.abrupt("return",t.count(e));case 7:return n.abrupt("return",t.totalRows);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()().then((function(e){return t.totalRows=e})),n.next=25,t.items(e);case 25:y=n.sent,l=y;case 27:return t.firstFilter=!1,l.some((function(e){return!e[t.primaryKey]}))&&(console.warn("Cambiando primaryKey",l),t.primaryKey="primaryKey",l.forEach((function(e){return e[t.primaryKey]||(e[t.primaryKey]=Math.random()),e}))),n.abrupt("return",l);case 30:case"end":return n.stop()}}),n)})))()},rowSelected:function(e){this.selectedRows=e,this.$refs.selectionTable&&this.$refs.selectionTable.refreshTable(),this.$emit("input",e)}})},n("9228"),C=n("2a6f"),j=Object(C.a)(P,p,b,!1,null,"6ae9b6d4",null),t.default=j.exports},ac2c:function(e,t,n){"use strict";var r=n("8126");t.a=function(e){return null==e?"":Object(r.a)(e)}},ad31:function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},c06e:function(e,t,n){"use strict";var r=n("922a"),o=n("9710");t.a=function(e,t){for(var n=0,a=(t=Object(r.a)(t,e)).length;null!=e&&n<a;)e=e[Object(o.a)(t[n++])];return n&&n==a?e:void 0}},eb6d:function(e,t,n){}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([["views-Form","components-ItdTypeAhead-VueBootstrapTypeahead","chunk-2cda2302"],{"1f19":function(e,t){function r(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return e}function o(e,t){const o=(t=t||{}).delimiter||".",c=t.maxDepth,i=t.transformKey||n,a={};return function e(n,s,u){u=u||1,Object.keys(n).forEach((function(l){const f=n[l],d=t.safe&&Array.isArray(f),p=Object.prototype.toString.call(f),b=r(f),m="[object Object]"===p||"[object Array]"===p,y=s?s+o+i(l):i(l);if(!d&&!b&&m&&Object.keys(f).length&&(!t.maxDepth||u<c))return e(f,y,u+1);a[y]=f}))}(e),a}e.exports=o,o.flatten=o,o.unflatten=function e(t,c){function i(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||c.object?e:t}const a=(c=c||{}).delimiter||".",s=c.overwrite||!1,u=c.transformKey||n,l={};return r(t)||"[object Object]"!==Object.prototype.toString.call(t)?t:(t=Object.keys(t).reduce((function(e,r){const n=Object.prototype.toString.call(t[r]);return!("[object Object]"===n||"[object Array]"===n)||function(e){const t=Object.prototype.toString.call(e),r="[object Object]"===t;return!e||("[object Array]"===t?!e.length:r?!Object.keys(e).length:void 0)}(t[r])?(e[r]=t[r],e):function(e,t,r){return Object.keys(r).reduce((function(t,n){return t[e+a+n]=r[n],t}),t)}(r,e,o(t[r],c))}),{}),Object.keys(t).forEach((function(r){const n=r.split(a).map(u);let o=i(n.shift()),f=i(n[0]),d=l;for(;void 0!==f;){if("__proto__"===o)return;const e=Object.prototype.toString.call(d[o]),t="[object Object]"===e||"[object Array]"===e;if(!s&&!t&&void 0!==d[o])return;(s&&!t||!s&&null==d[o])&&(d[o]="number"!=typeof f||c.object?{}:[]),d=d[o],n.length>0&&(o=i(n.shift()),f=i(n[0]))}d[o]=e(t[r],c)})),l)}},"2a6f":function(e,t,r){"use strict";function n(e,t,r,n,o,c,i,a){var s,u,l,f="function"==typeof e?e.options:e;return t&&(f.render=t,f.staticRenderFns=r,f._compiled=!0),n&&(f.functional=!0),c&&(f._scopeId="data-v-"+c),i?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},f._ssrRegister=s):o&&(s=a?function(){o.call(this,(f.functional?this.parent:this).$root.$options.shadowRoot)}:o),s&&(f.functional?(f._injectStyles=s,u=f.render,f.render=function(e,t){return s.call(t),u(e,t)}):(l=f.beforeCreate,f.beforeCreate=l?[].concat(l,s):[s])),{exports:e,options:f}}r.d(t,"a",(function(){return n}))},"59d3":function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o,c,i,a;if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;r=[],n=!0,o=!1,c=void 0;try{for(i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,c=s}finally{try{n||null==i.return||i.return()}finally{if(o)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,o,c,i){var a,s;try{s=(a=e[c](i)).value}catch(u){return void r(u)}a.done?t(s):Promise.resolve(s).then(n,o)}function i(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function a(e){var t,r;for(t=1;t<arguments.length;t++)r=null!=arguments[t]?arguments[t]:{},t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u,l,f,d,p,b,m,y,h;r.r(t),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("api-request",{attrs:{resource:e.getFormLocal,params:e.model},on:{error:e.apiError},model:{value:e.res,callback:function(t){e.res=t},expression:"res"}},["Modal"===e.mode?r("itd-modal",{attrs:{title:e.title,"ok-title":"Guardar","cancel-title":"Cancelar",size:"lg",centered:""},on:{shown:e.unsetSticky,hidden:e.hidden,ok:e.submitForm},model:{value:e.myShowModal,callback:function(t){e.myShowModal=t},expression:"myShowModal"}},[r("portal-target",{attrs:{name:"Modal"}})],1):e._e(),r("portal-target",{attrs:{name:"Plain"}}),r("portal",{attrs:{to:e.mode}},[e.res.form?r("itd-form",{ref:"form",attrs:{form:e.res.form,config:e.configForm,cols:e.cols},on:{submit:e.sendFormLocal,reset:function(t){e.back&&e.$router.back()}},model:{value:e.res.model,callback:function(t){e.$set(e.res,"model",t)},expression:"res.model"}}):e._e()],1)],1)],1)},l=[],f=r("ac0d"),d=r.n(f),p=r("f42e"),b=r("1f19"),m={$lodash:["pickBy","isNil"],name:"Form",props:{cols:{type:null,default:function(){return{col:1,md:2,lg:3,xl:4}}},back:{type:Boolean,default:!0},showModal:{type:Boolean,default:!0},mode:{type:String,default:"Plain"},id:{type:String,default:null},type:{type:String,default:function(){return this.$route.path.replace("/APP/AAA/","").split("/")[1]},validator:function(e){return["Create","Update","Register","Profile"].includes(e)}},getForm:{type:Function,default:null},sendForm:{type:Function,default:null},noSubmit:{type:Boolean,default:!1},postSent:{type:Function,default:function(e){this.$store.dispatch("Alert/success","".concat(e.model,' "').concat(e.name,'", guardado exitosamente')),this.back&&this.$router.back()}}},data:function(){return{res:{}}},computed:a(a({myShowModal:{get:function(){return this.showModal}},title:function(){var e="";switch(this.type){case"Create":e="Creación de ";break;case"Update":e="Actualización de ";break;case"Register":e="Registro de ";break;case"Upload":e="Carga de Archivo de ";break;case"Profile":e="Actualización de Perfil de "}return e+this.model}},Object(p.e)("app",["sticky"])),{},{configForm:function(){return"Plain"!==this.mode||this.noSubmit?{submitText:null,resetText:null}:{submitText:"Guardar",resetText:"Cancelar"}}}),methods:a(a(a({},Object(p.b)("app",["setSticky","unsetSticky"])),Object(p.b)("form",["createSet","updateSet","createGet","updateGet","registerGet","registerSet","profileGet","profileSet"])),{},{getFormLocal:function(e){var t=this.id;return this.getForm?this.getForm(e,t):this["".concat(this.type.toLowerCase(),"Get")]({model:this.model,body:{id:t}})},hidden:function(){this.setSticky(),this.$router.back()},sendFormLocal:function(e){var t,r=this;return(t=d.a.mark((function t(){var o,c,i,s,u,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),c="".concat(r.type.toLowerCase(),"Set"),o=r.sendForm?r.sendForm:r["".concat(r.type.toLowerCase(),"Set")],t.prev=3,t.next=6,r.$refs.form.validateForm();case 6:return r.res.model=pickBy(r.res.model,(function(e){return!isNil(e)})),i=r.res.model,s=function(e){return Object.entries(Object(b.flatten)(e)).filter((function(e){return n(e,2)[1]instanceof Blob}))},f=i,Object.values(Object(b.flatten)(f)).some((function(e){return e instanceof Blob}))&&((i=new FormData).append("json",new Blob([JSON.stringify(r.res.model)],{type:"application/json"}),"json"),u=s(r.res.model),console.debug("BLOBS PATH"),console.debug(u),u.forEach((function(e){var t=n(e,2),r=t[0],o=t[1];return i.append(r,o)}))),console.debug(i),t.next=14,o({model:r.model,data:i,config:a(a({},r.res.specs.set),r.res.specs[c])});case 14:l=t.sent,console.debug("resultado del sendForm"),console.debug(l),r.$emit("showModal:update",!1),r.postSent(l),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3),console.debug(t.t0);case 24:case"end":return t.stop()}var f}),t,null,[[3,21]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){function i(e){c(s,n,o,i,a,"next",e)}function a(e){c(s,n,o,i,a,"throw",e)}var s=t.apply(e,r);i(void 0)}))})()},submitForm:function(e){e.preventDefault(),this.$refs.form.submit()},apiError:function(e){console.debug("API ERROR"),console.debug(e),console.debug(this.res)}})},y=r("2a6f"),h=Object(y.a)(m,u,l,!1,null,null,null),t.default=h.exports}}]);